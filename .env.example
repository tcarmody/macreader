# DataPoints Backend Configuration
#
# Copy this file to .env and fill in your values.
# For Railway deployment, set these as environment variables in the Railway dashboard.

# =============================================================================
# LLM Provider API Keys (at least one required for summarization)
# =============================================================================

# Anthropic Claude (recommended - supports prompt caching for 90% cost reduction)
ANTHROPIC_API_KEY=your-anthropic-key-here

# OpenAI GPT (alternative)
# OPENAI_API_KEY=your-openai-key-here

# Google Gemini (alternative)
# GOOGLE_API_KEY=your-google-key-here

# Preferred provider: "anthropic", "openai", or "google"
# If not set, uses first available key in order: Anthropic > OpenAI > Google
# LLM_PROVIDER=anthropic

# Optional: override the default model for your provider
# Anthropic: claude-haiku-4-5, claude-sonnet-4-5, claude-opus-4-5
# OpenAI: gpt-5.2-mini, gpt-5.2
# Google: gemini-3.0-flash, gemini-3.0-pro
# LLM_MODEL=

# =============================================================================
# Related Links (Exa Neural Search)
# =============================================================================

# Exa API for finding related articles (https://exa.ai)
# Sign up for free $10 credits (~2,000 searches)
# EXA_API_KEY=your-exa-api-key-here

# Enable/disable related links feature (default: true)
# ENABLE_RELATED_LINKS=true

# =============================================================================
# Authentication
# =============================================================================

# API key required for all protected endpoints (optional)
# If not set, the API is open (suitable for local development only)
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
# AUTH_API_KEY=

# =============================================================================
# OAuth Authentication (optional)
# =============================================================================
# Configure OAuth providers for user login via Google/GitHub.
# You can use OAuth alone, with API key auth, or neither.

# Session secret for signing cookies (REQUIRED for OAuth)
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
# SESSION_SECRET=

# Google OAuth (https://console.cloud.google.com/apis/credentials)
# GOOGLE_CLIENT_ID=
# GOOGLE_CLIENT_SECRET=

# GitHub OAuth (https://github.com/settings/developers)
# GITHUB_CLIENT_ID=
# GITHUB_CLIENT_SECRET=

# Session lifetime in seconds (default: 7 days)
# SESSION_MAX_AGE=604800

# Set to false for local development over HTTP
# SESSION_SECURE=true

# Comma-separated list of allowed email addresses (empty = allow all)
# OAUTH_ALLOWED_EMAILS=you@example.com,friend@example.com

# Frontend URL to redirect to after OAuth callback
# OAUTH_FRONTEND_URL=/

# =============================================================================
# Server Configuration
# =============================================================================

PORT=5005
LOG_LEVEL=INFO

# =============================================================================
# Database & Storage
# =============================================================================

CACHE_DIR=./data/cache
DB_PATH=./data/articles.db

# =============================================================================
# Advanced Features
# =============================================================================

# Enable JavaScript rendering for dynamic content (requires playwright)
ENABLE_JS_RENDER=true

# Enable archive.org fallback for paywalled content
ENABLE_ARCHIVE=true

# =============================================================================
# CORS Configuration (for web frontend)
# =============================================================================

# Comma-separated list of allowed origins (in addition to localhost)
# Example: https://your-app.vercel.app,https://custom-domain.com
CORS_ORIGINS=

# Rate limiting (requests per minute per IP, 0 = disabled)
RATE_LIMIT_PER_MINUTE=60

# File upload size limit in MB
MAX_UPLOAD_SIZE_MB=50
